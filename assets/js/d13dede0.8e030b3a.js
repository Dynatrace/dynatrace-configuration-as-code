"use strict";(self.webpackChunkmonaco=self.webpackChunkmonaco||[]).push([[5100],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>f});var o=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=o.createContext({}),s=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=s(e.components);return o.createElement(c.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},p=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=s(t),f=r,v=p["".concat(c,".").concat(f)]||p[f]||m[f]||i;return t?o.createElement(v,a(a({ref:n},u),{},{components:t})):o.createElement(v,a({ref:n},u))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,a=new Array(i);a[0]=p;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var s=2;s<i;s++)a[s]=t[s];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}p.displayName="MDXCreateElement"},8219:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var o=t(7462),r=(t(7294),t(3905));const i={sidebar_position:2},a="Environments file",l={unversionedId:"configuration/environments_file",id:"configuration/environments_file",title:"Environments file",description:"The environments file is a YAML file used to define to which environment(s) to deploy configurations.",source:"@site/docs/configuration/environments_file.md",sourceDirName:"configuration",slug:"/configuration/environments_file",permalink:"/dynatrace-configuration-as-code/next/configuration/environments_file",draft:!1,editUrl:"https://github.com/dynatrace/dynatrace-configuration-as-code/edit/main/documentation/docs/configuration/environments_file.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Deploy configuration",permalink:"/dynatrace-configuration-as-code/next/configuration/deploy_configuration"},next:{title:"Configuration structure",permalink:"/dynatrace-configuration-as-code/next/configuration/configuration_structure"}},c={},s=[{value:"Envrionment API Tokens",id:"envrionment-api-tokens",level:2},{value:"Environment Grouping",id:"environment-grouping",level:2}],u={toc:s};function m(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,o.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"environments-file"},"Environments file"),(0,r.kt)("p",null,"The environments file is a YAML file used to define to which environment(s) to deploy configurations.  "),(0,r.kt)("p",null,"In the file, you declare the environment URL and the name of the environment variable to use for the API token."),(0,r.kt)("p",null,"Deployment can be done on a single environment or on several environments."),(0,r.kt)("p",null,"Here is an example of the structure of an environments file: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="environments.yaml"',title:'"environments.yaml"'},'foo:\n    - name: "foo"\n    - env-url: "https://foo.example.com"\n    - env-token-name: "FOO_TOKEN_ENV_VAR"\n\nbar:\n    - name: "bar"\n    - env-url: "https://bar.dynatrace-managed.com/e/environmentid"\n    - env-token-name: "BAR_TOKEN_ENV_VAR"\n')),(0,r.kt)("h2",{id:"envrionment-api-tokens"},"Envrionment API Tokens"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"env-token-name")," specifies the name of an environment variable from where the access token for your Dynatrace environment will be loaded."),(0,r.kt)("p",null,"Please follow the instructions of your Operating System or CI/CD tool on how to make the token value available as an environment variable."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"For example on Linux: ",(0,r.kt)("inlineCode",{parentName:"p"},"export BAR_TOKEN_ENV_VAR=XXXXXXXXXXX"))),(0,r.kt)("p",null,"For details on API Token permissions, see the column for each ",(0,r.kt)("a",{parentName:"p",href:"configTypes_tokenPermissions"},"type of configuration")),(0,r.kt)("h2",{id:"environment-grouping"},"Environment Grouping"),(0,r.kt)("p",null,"Environments can also be grouped, but only one group is allowed per environment. Assign environments to groups with ",(0,r.kt)("inlineCode",{parentName:"p"},"group.environment"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="environments.yaml"',title:'"environments.yaml"'},'production.foo:\n    - name: "foo"\n    - env-url: "https://foo.dynatrace.com"\n    - env-token-name: "FOO_TOKEN_ENV_VAR"\n\nproduction.bar:\n    - name: "bar"\n    - env-url: "https://bar.dynatrace-managed.com/e/id"\n    - env-token-name: "BAR_TOKEN_ENV_VAR"\n')))}m.isMDXComponent=!0}}]);
configs:
  - id: profile
    config:
      name: profile-cws
      template: profile.json
      skip: false
      parameters:
        managementZoneId: [builtin:management-zones, zone, id]
    type:
      api: alerting-profile

  - id: zone
    type:
      settings:
        schema: builtin:management-zones
        scope:
          property: extractedIDs.my_id
          type: reference
    config:
      name: zone-cws
      parameters:
        environment: environment1
        meId: HOST_GROUP-1234567890123456
        extractedIDs: # this also tests if nested self-references work
          type: value
          value:
            my_id: environment
      template: zone.json

  - id: slack
    type:
      api: notification
    config:
      name: notification-cws
      parameters:
        alertingProfileId: [alerting-profile, profile, id]
        environment: Env1
      template: slack.json
      skip: false
